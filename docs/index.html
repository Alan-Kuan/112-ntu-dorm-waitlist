<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>112-1 臺灣大學宿舍候補紀錄</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>
  </head>
  <body class="bg-light">
    <div id="app" class="lg:w-50% lt-lg:w-75% mx-auto">
      <h1>112-1 臺灣大學宿舍候補紀錄</h1>

      <p>
        本站每日中午 12:00 更新
        <br />
        資料來源：
        <a href="https://osa_dorm.ntu.edu.tw/" target="_blank">
          國立臺灣大學 學務處 | 學生住宿服務組
        </a>
      </p>

      <div v-for="group, name in history">
        <h2>{{ name }}</h2>
        <table class="border-collapse border-solid border-size-1">
          <thead class="bg-warmgray">
            <tr>
              <th class="w-30
                border-solid border-size-1
                text-center
              ">
                日期
              </th>
              <th class="w-20
                border-solid border-size-1
                text-center
              ">
                男生
              </th>
              <th class="w-20
                border-solid border-size-1
                text-center
              ">
                女生
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="item in group">
              <td class="
                border-solid border-size-1
                text-center
              ">
                {{ item.date }}
              </td>
              <td class="
                border-solid border-size-1
                text-center
              ">
                {{ item.male }}
              </td>
              <td class="
                border-solid border-size-1
                text-center
              ">
                {{ item.female }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <script>
    (async () => {
      const { createApp } = Vue;
      let history = {};

      await fetch('./history.json')
      .then(res => res.json())
      .then(data => history = data);

      createApp({
        setup() {
          return {
            history,
          };
        },
      }).mount('#app');
    })();
    </script>
  </body>
</html>
