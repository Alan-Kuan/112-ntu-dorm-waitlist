<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>112-1 臺灣大學宿舍候補紀錄</title>

    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@unocss/runtime"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@200;400;500&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;400;500&family=Roboto+Mono&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@unocss/reset/normalize.min.css">

    <style>
      .noto-sans-tc {
        font-family: 'Noto Sans TC', sans-serif;
      }
      .roboto-mono {
        font-family: 'Roboto Mono', monospace;
      }
    </style>
  </head>
  <body class="bg-light noto-sans-tc">
    <div id="app" class="lg:w-50% lt-lg:w-75% mx-auto">
      <h1 class="font-500">112-1 臺灣大學宿舍候補紀錄</h1>

      <p class="line-height-normal">
        本站每日中午 12:00 更新
        <br />
        資料來源：
        <a href="https://osa_dorm.ntu.edu.tw/" target="_blank">
          國立臺灣大學 學務處 | 學生住宿服務組
        </a>
      </p>

      <div
        v-for="group, name in history"
        class="mb-10"
      >
        <h2 class="font-200">{{ name }}</h2>
        <table class="
          border-collapse border-solid border-size-1
          text-center"
        >
          <thead class="bg-gray-3">
            <tr class="font-500">
              <th class="
                w-30 p-1
                border-solid border-size-1"
              >
                日期
              </th>
              <th class="
                w-20 p-1
                border-solid border-size-1"
              >
                男生
              </th>
              <th class="
                w-20 p-1
                border-solid border-size-1"
              >
                女生
              </th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="item in group">
              <td class="
                p-1
                border-solid border-size-1"
              >
                {{ item.date }}
              </td>
              <td class="
                p-1
                border-solid border-size-1"
              >
                {{ item.male }}
              </td>
              <td class="
                p-1
                border-solid border-size-1"
              >
                {{ item.female }}
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <footer class="
      fixed bottom-0
      w-full pa-1
      bg-gray-2
      text-center"
    >
      <span style="letter-spacing: 0.5rem;">本網站的內容皆開源於</span>
      <a class="roboto-mono" href="https://github.com/Alan-Kuan/112-ntu-dorm-waitlist" target="_blank">
        GitHub
      </a>
    </footer>

    <script>
      const { createApp, ref } = Vue;

      createApp({
        setup() {
          const history = ref({
            '112-1研究所宿舍申請': [],
            '112-1學士班學生申請校內宿舍(舊生候補)': [],
            '學士班新生宿舍暑假住宿申請作業': [],
          });

          return {
            history,
          };
        },
        async mounted() {
          this.history = await fetch('./history.json')
            .then(res => res.json());
        },
      }).mount('#app');
    </script>
  </body>
</html>
